&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>rstudio-server on Fellipe Gomes - Data Science Blog</title>
    <link>https://gomesfellipe.github.io/tags/rstudio-server/</link>
    <description>Últimos posts sobre Data Science, Machine Learning e R</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <managingEditor>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</managingEditor>
    <webMaster>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</webMaster>
    <lastBuildDate>Sat, 27 Oct 2018 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://gomesfellipe.github.io/tags/rstudio-server/" rel="self" type="application/rss+xml" />
    <item>
      <title>Seu app, RStudio e Shiny Server na nuvem do Google</title>
      <link>https://gomesfellipe.github.io/post/2018-10-27-server-cloud/server-cloud/</link>
      <pubDate>Sat, 27 Oct 2018 00:00:00 +0000</pubDate>
      <author>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</author>
      <guid>https://gomesfellipe.github.io/post/2018-10-27-server-cloud/server-cloud/</guid>
      <description>Uma maneira prática de hospedar o app desenvolvido no post no Shiny Server e ter seu próprio RStudio Server na nuvem do Google em uma máquina virtual Ubuntu 16.04.</description>
      <content:encoded>&lt;![CDATA[
        


<div id="objetivo-do-post" class="section level1">
<h1>Objetivo do post <i class="fa fa-rocket"></i></h1>
<p>Uma das várias maneiras de se implementar o <a href="https://www.rstudio.com/products/rstudio/download-server/">RStudio Server</a> e o <a href="https://www.rstudio.com/products/shiny/download-server/">Shiny Server</a> é através de serviços de nuvem que fornecem máquinas virtuais. Empresas gigantes no mercado como Amazon Web Services (AWS), Microsoft, Google, IBM, Oracle etc têm investido pesado nestes serviços e a escolha de qual cloud utilizar deve ser feita de acordo com a necessidade do usuário pois cada uma delas oferecem diferentes preços com diferentes custos/benefícios.</p>
<p>No final deste post teremos além do nosso próprio RStudio Server, esse app no Shiny Server que exibe em um gráfico das cotações encontradas via função função <a href="https://www.rdocumentation.org/packages/TTR/versions/0.23-4/topics/stockSymbols"><code>quantmod::stockSymbols()</code></a> com os pacotes <a href="http://jkunst.com/highcharter/"><code>highcharter</code></a> e <a href="https://www.quantmod.com/"><code>quantmod</code></a>:</p>
<p><img src="/post/2018-10-27-server-cloud/server-cloud_files/demoapp.gif" /></p>
<p><strong>Nota</strong>: Algum conhecimento em Linux e Git pode ser útil, particularmente ainda tenho muito a aprender sobre ambos e devem existir outras maneiras mais eficientes de se realizar estas tarefas. Essa é uma forma relativamente simples e ao final do post deixarei os links que utilizei como referência para escrever este post.</p>
<p><strong>Nota²</strong>, segundo o desenvolvedor do pacote <code>highcharter</code>: “<em>Highcharts (www.highcharts.com) é um produto de software da Highsoft que não é livre para uso comercial e governamental</em>”.</p>
</div>
<div id="gloogle-cloud" class="section level1">
<h1>Gloogle cloud <i class="fa fa-cloud"></i></h1>
<p>A serviço que escolhi para este exemplo foi o <a href="https://cloud.google.com/">Google Cloud</a>, que oferece um <a href="https://cloud.google.com/free/docs/frequently-asked-questions">período de um ano de Teste Grátis com $300</a> para utilizar nos serviços <a href="https://cloud.google.com/free/docs/frequently-asked-questions?hl=pt_BR&amp;_ga=2.209128081.-2022746393.1538697551&amp;_gac=1.3934980.1540514862.EAIaIQobChMImJjS9vCi3gIVEgaRCh0j3ArWEAAYASAAEgJ8AfD_BwE#always-free">dentre outras opções</a>, mas isso não quer dizer que seja a melhor de todas, sinta-se a vontade para utilizar os mesmos passos apresentados aqui nos demais serviços, entendendo, claro, suas peculiaridades.</p>
<p>Dentre algumas vantagens sobre o uso de nuvem, temos:</p>
<ul>
<li>Maior produtividade, pois possibilita rápido acesso à sua área de trabalho;</li>
<li>Permite o desenvolvedor trabalhar de qualquer lugar com acesso à internet;</li>
<li>Permite colaboração rápida, pois os membros da equipe podem contribuir e acessar projetos ao mesmo tempo em que os dados são armazenados na nuvem em vez de em seus computadores</li>
<li>Protegido pelos principais especialistas segurança do Google;</li>
<li>Controle e flexibilidade, o desenvolvedor tem controle sobre a tecnologia que deseja usar, sobre os dados e caso decida não usar mais o serviço, é possível retirar seus dados da nuvem do Google.</li>
</ul>
<div id="compute-engine" class="section level2">
<h2>Compute Engine <img src="/post/2018-10-27-server-cloud/server-cloud_files/compute_engine.png" style="width:5.0%" /></h2>
<p>Compute Engine é um dos produtos oferecidos pelo Google. Também conhecido como <a href="https://pt.wikipedia.org/wiki/Infraestrutura_como_servi%C3%A7o">infraestrutura como serviço (IaaS)</a>, pode ser usada para executar altas cargas de trabalho em larga escala em máquinas virtuais, no nosso caso este produto que possibilita o uso das máquinas virtuais.</p>
</div>
</div>
<div id="iniciar-uma-instância-na-google-cloud-platform" class="section level1">
<h1>Iniciar uma instância na Google Cloud Platform</h1>
<p>Primeiramente, acesse <a href="https://cloud.google.com/" class="uri">https://cloud.google.com/</a> e se inscreva no recurso de nuvem, após isso acesse <a href="https://console.cloud.google.com" class="uri">https://console.cloud.google.com</a> e percorra o caminho:</p>
<p><code>Menu de navegação</code> → <code>Compute Engine</code> → <code>Instâncias de VMs</code></p>
<p>Nesta página existe o <img src="/post/2018-10-27-server-cloud/server-cloud_files/button_criar_instancia.png" />, clique nele para iniciar a configuração da VM. Na página que abrir será solicitado a dar um nome a sua VM (pode ser qualquer nome que te agrade). O Google tem data centers em quase todo o mundo e para este caso selecionei a <code>Região</code> <em>us-east1 (Carolina do Sul)</em> e a <code>Zona</code> deixei o default <em>us-east1-b</em>.<a href="https://cloud.google.com/free/docs/frequently-asked-questions?hl=pt_BR&amp;_ga=2.183970469.-2022746393.1538697551&amp;_gac=1.36440980.1540514862.EAIaIQobChMImJjS9vCi3gIVEgaRCh0j3ArWEAAYASAAEgJ8AfD_BwE#always-free">“saiba mais” do Google</a>.</p>
<p>Dependendo de quão poderoso o servidor precisa ser é possível selecionar a capacidade da RAM e do disco rígido na seção <code>Tipo de Máquina</code>, como este é um exemplo para prova de conceito selecionei a opção <em>micro(1 vCPU compartilhado) - 0.6 GB de memória, f1-micro</em> pois custa cerca de $ 0,006 por hora e as “primeiras 744 horas para uso da instância de tipo f1-micro são gratuitas”, segundo o Google. No <code>Disco de inicialização</code> selecionei a <code>Imagen do SO</code> <em>Ubuntu 16.04 LTS</em> que tenho um pouco mais de familiaridade e não mexi nas demais configurações dessa seção, mas antes de finalizar, selecione a opção <em>Permitir tráfego HTTP</em> na opção de <code>Firewall</code> e clique no botão <code>criar</code>.</p>
<p>Segundo o guia <a href="https://support.rstudio.com/hc/en-us/articles/200552306-Getting-Started">Acessando o RStudio Server Open-Source</a> e o <a href="http://rstudio.github.io/shiny-server/os/0.4.0/">Guia do Administrador - Shiny Server Open Source v0.4.1</a>o RStudio Server e o Shiny Server serão escutados nas portas 8787 e 3838 respectivamente, portanto, antes de começar a usar a VM é necessário Configurando regras de firewall para permitir acesso através destas portas.</p>
<p>Navegue até a seção <code>Rede VPC</code> e selecione a opção <code>Regras de firewall</code>. Clique em <img src="/post/2018-10-27-server-cloud/server-cloud_files/criar_firewall.png" />. No formulário que abrir dê um nome e uma descrição à regra do firewall (‘rstudio’ está bom), deixe os botões de opção <code>Direção de tráfego</code> e <code>Ação ao corresponder</code> como padrão (<em>Entrada</em> e <em>Permitir</em>). Para a opção <code>Destinos</code>, escolhi <em>Conta de serviço especificado</em>, sendo a <code>Conta de serviço de destino</code> <em>Compute Engine default service account</em>. Se você quiser filtrar os IPs que podem acessar o aplicativo, insira-o no campo <code>Intervalos de IP de origem</code>, como estamos sob uma prova de conceito, inseri a rota quad-zero: 0.0.0.0/0, o que permite acesso de todos os IPs em todas as portas nessa máquina. Na opção <code>Protocolos e Portos</code> selecione o botão de opção <em>Protocolos e portas específicas</em> e no campo digite o tcp: 8787. Por fim, clique no botão <code>criar</code>.</p>
<p>Faça o procedimento exatamente da mesma maneira, mas com um novo nome (‘shiny’ está bom) e digite ‘tcp: 3838’ em vez de ‘tcp: 8787’. Clique em <code>criar</code> e note que agora abrimos duas portas para usar no aplicativo.</p>
<p>Nota: <em>Os passos para iniciar uma instância na Cloud do Google foram inspirados no seguinte post:</em> <a href="https://datarunsdeep.com.au/blog/building-r-shiny-app-google-cloud-display-bigquery-data" class="uri">https://datarunsdeep.com.au/blog/building-r-shiny-app-google-cloud-display-bigquery-data</a></p>
</div>
<div id="inicie-a-máquina-virtual" class="section level1">
<h1>Inicie a máquina virtual <i class="fa fa-desktop"></i></h1>
<p>Ótimo! Agora a VM já deve estar pronta para uso e o jeito mais simples de utilizá-la é clicando no botão <img src="/post/2018-10-27-server-cloud/server-cloud_files/ssh.png" /> na página de <code>Instâncias de VMs</code> e aguardar a máquina iniciar</p>
<center>
<img src="/post/2018-10-27-server-cloud/server-cloud_files/vm_on.gif" style="width:80.0%" />
</center>
<p>Vamos às configurações!</p>
<div id="obter-senha-para-super-usuário" class="section level2">
<h2>Obter senha para super usuário</h2>
<p>O primeiro passo será obter a senha para usuário <code>root</code></p>
<pre><code>sudo passwd</code></pre>
<p>Após determinar a senha, alterne para este usuário e conceda a permissão de super usuário para evitar trabalhar como <code>root</code>:</p>
<pre><code>su root
passwd gomes_fellipe1
gpasswd -a gomes_fellipe1 sudo
su gomes_fellipe1</code></pre>
<p>Agora meu usuário tem permissão de super usuário e uma senha para utilizar para acessar o RStudio Server.</p>
</div>
<div id="exibir-sua-vm-em-um-navegador" class="section level2">
<h2>Exibir sua VM em um navegador</h2>
<p>Se você utilizar o comando</p>
<pre><code>curl ipinfo.io/ip</code></pre>
<p>o endereço IP externo será exibido no console, porém se digitar este caminho no browser ainda não será possível acessar sua máquina. Para isso, instale o <a href="https://www.nginx.com/">Nginx</a> (que é um servidor web leve) com os comandos:</p>
<pre><code>sudo apt-get update
sudo apt-get -y install nginx</code></pre>
<p>Agora se você digitar o endereço IP externo da sua máquina no browser será possível ver a tela de saudação do nginx!</p>
</div>
<div id="criar-um-arquivo-swap" class="section level2">
<h2>Criar um arquivo swap</h2>
<p>Seguindo a recomendação do post <a href="http://www.simoncoulombe.com/2018/05/07/protected_free_shiny/">Implantando um servidor Shiny Server e RStudio seguro em uma máquina virtual gratuita do Google Cloud</a> e as instruções do link <a href="https://digitizor.com/create-swap-file-ubuntu-linux/" class="uri">https://digitizor.com/create-swap-file-ubuntu-linux/</a>, podemos criar um arquivo <a href="https://pt.wikipedia.org/wiki/Mem%C3%B3ria_virtual">swap</a> pois a instância <em>f1-micro</em> não tem RAM suficiente e pode ser que alguns pacotes não possam ser instalados por falta de memória.</p>
<pre><code>cd /
sudo dd if=/dev/zero of=swapfile bs=1M count=3000
sudo mkswap swapfile
sudo swapon swapfile
sudo nano etc/fstab

# Adicione a linha a seguir no arquivo que abrir
/swapfile none swap sw 0 0 
cat /proc/meminfo</code></pre>
</div>
<div id="instalar-o-r" class="section level2">
<h2>Instalar o R</h2>
<p>Para instalar o R apenas segui os passos apresentados em <a href="https://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean/" class="uri">https://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean/</a> com os códigos:</p>
<pre><code>sudo sh -c &#39;echo &quot;deb http://cran.rstudio.com/bin/linux/ubuntu xenial/&quot; &gt;&gt; /etc/apt/sources.list&#39;

gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9
gpg -a --export E084DAB9 | sudo apt-key add -

sudo apt-get update
sudo apt-get -y install r-base</code></pre>
<p>Agora o R está pronto para uso, basta escrever <code>R</code> no console para iniciá-lo.</p>
<center>
<img src="/post/2018-10-27-server-cloud/server-cloud_files/R.png" />
</center>
<div id="dependências-e-pacotes" class="section level3">
<h3>Dependências e pacotes</h3>
<p>Antes de instalar outros pacotes podemos iniciar instalando o <code>devtools</code> pois esse pacote permite instalar a versão do desenvolvedores de alguns pacotes do R que estão disponíveis no GitHub. Para instalar as dependências do <code>devtools</code>:</p>
<pre><code>sudo apt-get -y install libcurl4-gnutls-dev libxml2-dev libssl-dev</code></pre>
<p>Tudo certo, agora já é possível instalar pacotes tanto do <a href="https://cran.r-project.org/">CRAN</a> quando do <a href="www.github.com">GitHub</a>. Além do <code>devtools</code> instalaremos mais dois pacotes que serão utilizados pelo aplicativo exemplo deste post:</p>
<pre><code>sudo su - -c &quot;R -e \&quot;install.packages(c(&#39;devtools&#39;,&#39;rmarkdown&#39;, &#39;quantmod&#39;), repos=&#39;http://cran.rstudio.com/&#39;)\&quot;&quot;
sudo su - -c &quot;R -e \&quot;devtools::install_github(&quot;jbkunst/highcharter&quot;)\&quot;&quot;</code></pre>
<p><strong>Importante:</strong> Note que ao instalar os pacotes do R no terminal os pacotes são instalados como usuário <code>root</code>, o que significa que os pacotes serão instalados em uma biblioteca global e estarão disponíveis para todos os usuários da máquina.</p>
</div>
</div>
<div id="instalar-o-rstudio-server" class="section level2">
<h2>Instalar o RStudio Server</h2>
<p>Neste ponto já temos uma máquina virtual como R instalado e estamos preparados para dar início ao nosso <strong>RStudio Server</strong>! Para instalar entre na página de download do RStudio em: <a href="https://www.rstudio.com/products/rstudio/download-server/" class="uri">https://www.rstudio.com/products/rstudio/download-server/</a> e siga os passos de instalação. No meu caso bastou rodar:</p>
<pre><code>sudo apt-get install gdebi-core
wget https://download2.rstudio.org/rstudio-server-1.1.456-amd64.deb
sudo gdebi rstudio-server-1.1.456-amd64.deb</code></pre>
<p>Pronto, agora já possuímos nosso próprio RStudio Server na nuvem! Para acessá-lo basta utilizar a porta <code>8787</code> através de seu IP externo (que pode ser obtido com o comando: <code>curl ipinfo.io/ip</code>, como mencionado anteriormente). Portanto, acesse algo como: <a href="http://35.237.234.123:8787" class="uri">http://35.237.234.123:8787</a> (este link direcionará para a máquina virtual que criei no exemplo deste post) e você será direcionado para uma tela de login:</p>
<center>
<img src="/post/2018-10-27-server-cloud/server-cloud_files/rstudioserver.png" style="width:80.0%" />
</center>
<p>É possível fazer o login no RStudio Server com qualquer usuário que esteja cadastrado em sua máquina virtual, no meu caso eu faço o login com o nome de usuário <code>gomes_fellipe1</code> e a senha que defini para meu usuário ao criar a máquina.</p>
<p>É possível criar um novo usuário para acessar o RStudio Server via terminal da máquina virtual com:</p>
<pre><code>adduser novo_usuario</code></pre>
<p>Caso seu objetivo seja apenas o de ter seu próprio RStudio Server Parabéns! Já está disponível e pronto para uso! A seguir trataremos de como instalar e como efetuar algumas configurações básicas de um Shiny Server, mesmo que você não seja desenvolvedor desse tipo de app sugiro que instale o servidor mesmo assim pois ele também pode ser usado para hospedar seus documentos interativos como arquivos Rmarkdown!</p>
</div>
<div id="instalar-o-shiny-server" class="section level2">
<h2>Instalar o Shiny Server</h2>
<p>Aplicativos Shiny são incríveis e sua aplicabilidade é tamanha que poderia dedicar uma série de posts exclusivamente para falar sobre essa ferramenta. Dedico uma enorme parte do meu tempo de trabalho atualmente no desenvolvimento de aplicativos Shiny e ao terminar todas as etapas de um <a href="http://r4ds.had.co.nz/introduction.html">“típico projeto de ciencia de dados”</a> a etapa da <strong>entrega</strong> dos resultados pode ser bastante crítica e um aplicativo Shiny é capaz de trazer interatividade às suas análises.</p>
<p>Existem diversas opções de entrega, entre elas:</p>
<ul>
<li>Fazer um rápido deploy no <a href="http://www.shinyapps.io/" class="uri">http://www.shinyapps.io/</a>;</li>
<li>Hospedar no now, como apresentado na página do <a href="https://www.curso-r.com/">curso-r</a> em: <a href="https://www.curso-r.com/blog/2018-03-05-shiny-now/" class="uri">https://www.curso-r.com/blog/2018-03-05-shiny-now/</a>;</li>
<li>Dockerizar o app com a imagem <a href="https://hub.docker.com/u/rocker/" class="uri">https://hub.docker.com/u/rocker/</a> e disponibilizá-lo na rede interna de sua empresa;</li>
<li>Criar um executável via R e Inno Setup (um instalador para programas do Windows), como ilustrado em: <a href="https://www.ficonsulting.com/filabs/RInno" class="uri">https://www.ficonsulting.com/filabs/RInno</a>;</li>
<li>Dentre tantas outras…</li>
</ul>
<p>No caso deste post, estamos criando nosso próprio servidor e assim teremos controle tanto do desempenho da máquina hospedada quanto do uso do Shiny Server propriamente dito.</p>
<p>Consulte a página de download do Shiny Server em: <a href="https://www.rstudio.com/products/shiny/download-server/" class="uri">https://www.rstudio.com/products/shiny/download-server/</a> para saber qual a versão mais recente para instalar no seu computador (note que será necessário instalar o pacote do shiny como mencionado anteriormente), no meu caso foi:</p>
<pre><code>sudo su - -c &quot;R -e \&quot;install.packages(&#39;shiny&#39;, repos=&#39;https://cran.rstudio.com/&#39;)\&quot;&quot;
sudo apt-get install gdebi-core
wget https://download3.rstudio.org/ubuntu-14.04/x86_64/shiny-server-1.5.9.923-amd64.deb
sudo gdebi shiny-server-1.5.9.923-amd64.deb</code></pre>
<p>O Shiny Server está agora instalado e em execução. Supondo que correu tudo bem você já poderá acessar a página inicial padrão do Shiny Server, que inclui algumas instruções e dois aplicativos Shiny, veja em (na minha máquina de exemplo): <a href="http://35.237.234.123:3838" class="uri">http://35.237.234.123:3838</a> (Note que eu não configurei um IP externo fixo neste app por se tratar de uma prova de conceito, como ele pode alterar para um IP aleatório quando eu reiniciar a máquina então fiz um backup no <a href="http://www.shinyapps.io/" class="uri">http://www.shinyapps.io/</a> no endereço: <a href="https://gomesfellipe.shinyapps.io/app_acoes/" class="uri">https://gomesfellipe.shinyapps.io/app_acoes/</a> para manter este DEMO no caso dessa máquina específica não estar mais no ar futuramente)</p>
<p><img src="/post/2018-10-27-server-cloud/server-cloud_files/shinyserver.png" /></p>
<p>Alguns comandos úteis para configurar o status do servidor:</p>
<pre><code>sudo systemctl start shiny-server
sudo systemctl stop shiny-server
sudo systemctl restart shiny-server</code></pre>
<p><strong>Importante</strong>:</p>
<ul>
<li>O arquivo de configuração do servidor está em: <code>/etc/shiny-server/shiny-server.conf</code>;</li>
<li>A página inicial do Shiny Server estará em: <code>/srv/shiny-server/index.html</code> (normalmente removemos esta página ou incluir um outro html para customizá-la);</li>
<li>Todos aplicativos Shiny com o nome <code>app.R</code> que você colocar em <code>/srv/shiny-server/</code> serão entendidos pelo servidor como um aplicativo Shiny;</li>
<li>Todos aplicativos serão executados como usuário <code>shiny</code> o que implica que qualquer pacote necessário em um aplicativo shiny deverá estar na biblioteca global ou na biblioteca do usuário <code>shiny</code>. Existem diversas formas de lidar com esse aspecto da configuração inicial do servidor então deixarei algumas referências ao final do post para quem tiver a necessidade de maior customização e controle do servidor;</li>
<li>Para visualizar os logs durante o desenvolvimento do aplicativo será necessário adicionar as linhas <code>preserve_logs true;</code>e <code>sanitize_errors false;</code> ao arquivo de configuração do servidor (e reiniciar o servidor em seguida) e assim os logs do servidor estarão disponíveis em <code>/var/log/shiny-server.log</code>.</li>
</ul>
</div>
<div id="adicionar-aplicativos-ao-shiny-server-via-github" class="section level2">
<h2>Adicionar aplicativos ao Shiny Server via Github</h2>
<p>Como já foi dito, qualquer aplicativo Shiny colocado na pasta <code>/srv/shiny-server/</code> será automaticamente exibido como um Shiny app na página principal do servidor. Além da opção de desenvolver um um aplicativo diretamente pelo RStudio Server e salvar nesta pasta podemos clonar algum app hospedado no <a href="https://github.com/">GitHub</a> ou no <a href="https://bitbucket.org">BitBucket</a> para esta pasta.</p>
<p>Primeiramente vamos instalar o git e realizar as configurações iniciais:</p>
<pre><code>sudo apt-get -y install git
git config --global user.email &quot;you@example.com&quot;
git config --global user.name &quot;Your Name&quot;</code></pre>
<p>Agora vamos nos deslocar para a pasta <code>srv/shiny-server/</code> e remover a página <code>index.html</code> pois não estamos mais interessados em ver a página de exemplo do Shiny Server:</p>
<pre><code>cd /srv/shiny-server
sudo rm index.html</code></pre>
<p>Em seguida já é possível clonar seu repositório do <a href="https://github.com/">GitHub</a> ou do <a href="https://bitbucket.org">BitBucket</a> diretamente para esta pasta (Lembrete: o arquivo que executa o app deve ser nomeado como <code>app.R</code>!), veja:</p>
<pre><code>sudo git clone https://github.com/gomesfellipe/app_acoes.git</code></pre>
<p>O legal de administrar suas aplicações via <a href="https://github.com/">GitHub</a> ou do <a href="https://bitbucket.org">BitBucket</a> é que o código hospedado pode ser trabalhado e “commitado” de qualquer outro lugar do mundo e para atualizar no servidor basta utilizar o comando <code>sudo git pull</code> na pasta do app que o diretório local será atualizado com as modificações realizadas no repositório remoto.</p>
<p>Pronto, se utilizar o comando <code>ls</code> já será possível ver a pasta clonada no diretório local:</p>
<center>
<img src="/post/2018-10-27-server-cloud/server-cloud_files/ls.png" />
</center>
<p>Ao acessar o app teremos:</p>
<center>
<iframe width="100%" height="725" scrolling="no" frameborder="no" src="https://gomesfellipe.shinyapps.io/app_acoes/">
</iframe>
</center>
<p>O código para gerar este app é:</p>
<script src="https://gist.github.com/gomesfellipe/f1f6469884bff2d2dce8729fd8bce719.js"></script>
<p><strong>Nota¹</strong>: O código do app e as dependências podem ser obtidas em: <a href="https://github.com/gomesfellipe/app_acoes" class="uri">https://github.com/gomesfellipe/app_acoes</a> e para executá-lo diretamente do seu terminal basta utilizar o comando:</p>
<pre class="r"><code>shiny::runGitHub(&quot;gomesfellipe/app_acoes&quot;)</code></pre>
<p><strong>Nota²</strong>: Caso queira incluir seu aplicativo Shiny em alguma página Web ou relatório é simples, utilizando um pouco de html é só o incluí no seu arquivo RMarkdown utilizando algo parecido com:</p>
<pre><code>&lt;iframe width=&quot;450&quot; height=&quot;400&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; src=&quot;sua_url&quot;&gt; &lt;/iframe&gt;</code></pre>
</div>
</div>
<div id="tudo-pronto" class="section level1">
<h1>Tudo Pronto? <i class="fa fa-exclamation-triangle"></i></h1>
<p>Definitivamente não! Implementamos um app bem básico mas existem intermináveis desafios que não foram abordados nesse rápido post como a instalação do Latex para o Shiny Server, o uso de contêineres Docker, senha para os aplicativos shiny, definir um IP estático, todas as outras dependências que podem ser requisitadas na instalação de pacotes específicos etc.. É aquela história, quanto mais a gente estuda mais coisa aparece para estudar mas esse é justamente o legal de tudo, que nunca fica fácil!</p>
</div>
<div id="referências-e-sugestões" class="section level1">
<h1>Referências e sugestões:</h1>
<ul>
<li><a href="https://cloud.google.com/getting-started/?hl=pt-br" class="uri">https://cloud.google.com/getting-started/?hl=pt-br</a></li>
<li><a href="https://support.rstudio.com/hc/en-us/articles/200552306-Getting-Started" class="uri">https://support.rstudio.com/hc/en-us/articles/200552306-Getting-Started</a></li>
<li><a href="http://rstudio.github.io/shiny-server/os/0.4.0/" class="uri">http://rstudio.github.io/shiny-server/os/0.4.0/</a></li>
<li><a href="https://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean/" class="uri">https://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean/</a></li>
<li><a href="https://datarunsdeep.com.au/blog/building-r-shiny-app-google-cloud-display-bigquery-data" class="uri">https://datarunsdeep.com.au/blog/building-r-shiny-app-google-cloud-display-bigquery-data</a></li>
<li><a href="https://shiny.rstudio.com/gallery/authentication-and-database.html" class="uri">https://shiny.rstudio.com/gallery/authentication-and-database.html</a></li>
<li><a href="http://www.simoncoulombe.com/2018/05/07/protected_free_shiny/" class="uri">http://www.simoncoulombe.com/2018/05/07/protected_free_shiny/</a></li>
<li><a href="https://www.brettory.com/2018/02/embedding-a-shiny-app-in-blogdown/" class="uri">https://www.brettory.com/2018/02/embedding-a-shiny-app-in-blogdown/</a></li>
<li><a href="https://www.keycdn.com/support/413-request-entity-too-large" class="uri">https://www.keycdn.com/support/413-request-entity-too-large</a></li>
<li><a href="https://auth0.com/blog/adding-authentication-to-shiny-server/" class="uri">https://auth0.com/blog/adding-authentication-to-shiny-server/</a></li>
<li><a href="https://gist.github.com/jjesusfilho/6a3ec38016f7e120e9a2cf2b49e42962" class="uri">https://gist.github.com/jjesusfilho/6a3ec38016f7e120e9a2cf2b49e42962</a></li>
<li><a href="https://gist.github.com/jjesusfilho/7b7001745cbb8f7b1ad36e7bfe5d43e8" class="uri">https://gist.github.com/jjesusfilho/7b7001745cbb8f7b1ad36e7bfe5d43e8</a></li>
<li><a href="https://curso-r.github.io/auth0/" class="uri">https://curso-r.github.io/auth0/</a></li>
</ul>
</div>

        <p><strong>Leia o post completo em:</strong> <a href="https://gomesfellipe.github.io/post/2018-10-27-server-cloud/server-cloud/">Seu app, RStudio e Shiny Server na nuvem do Google</a></p>
        <p><em>Este post foi originalmente publicado em <a href="https://gomesfellipe.github.io/">Fellipe Gomes - Data Science Blog</a></em></p>
      ]]></content:encoded>
      <category>Fundamentos de Data Science</category>
      <category>Inteligência Artificial</category>
      <category>Programação e Ferramentas</category>
      <category domain="tag">bitcoin</category>
      <category domain="tag">estatistica</category>
      <category domain="tag">google</category>
      <category domain="tag">google-cloud</category>
      <category domain="tag">pratica</category>
      <category domain="tag">r</category>
      <category domain="tag">rstudio</category>
      <category domain="tag">rstudio-server</category>
      <category domain="tag">series-temporais</category>
      <category domain="tag">servidor</category>
    </item>
  </channel>
</rss>