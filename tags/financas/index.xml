&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>financas on Fellipe Gomes - Data Science Blog</title>
    <link>https://gomesfellipe.github.io/tags/financas/</link>
    <description>√öltimos posts sobre Data Science, Machine Learning e R</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <managingEditor>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</managingEditor>
    <webMaster>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</webMaster>
    <lastBuildDate>Fri, 17 Jul 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://gomesfellipe.github.io/tags/financas/" rel="self" type="application/rss+xml" />
    <item>
      <title>AcompanhA√ß√µes</title>
      <link>https://gomesfellipe.github.io/apps/acompanhacoes/</link>
      <pubDate>Fri, 17 Jul 2020 00:00:00 +0000</pubDate>
      <author>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</author>
      <guid>https://gomesfellipe.github.io/apps/acompanhacoes/</guid>
      <description>Reposit√≥rio cont√©m os c√≥digos para a execu√ß√£o de um dashboard para o acompanhamento automatizado de ativos.</description>
      <content:encoded>&lt;![CDATA[
        <p>Link do reposit√≥rio no github: <a href="https://github.com/gomesfellipe/acompanhacoes">https://github.com/gomesfellipe/acompanhacoes</a></p>
<hr>
<p>O objetivo do pacote <code>acompanhacoes</code> √© permitir a portabilidade de um dashboard desenvolvido para o acompanhamento de ativos de diferentes naturezas de forma pr√°tica no dia a dia. A id√©ia deste shiny foi inspirada <a href="https://gomesfellipe.github.io/post/2020-03-25-investment-alert/investment-alert/">neste post</a> do meu blog.</p>
<p>O Dashboard √© uma POC (<a href="https://en.wikipedia.org/wiki/Proof_of_concept">proof of concept</a>) de uma ferramenta que possibilita o acompanhamento automatizado da tabela financeira de um portif√≥lio com a coleta de dados de cota√ß√µes em tempo real, incluindo c√°lculo de Ganho/Perda (caso decida fazer a desmontagem no tempo atual) e an√°lise automatizada do portif√≥lio.</p>
<p>O app shiny foi desenvolvido utilizando o framework <a href="https://thinkr-open.github.io/golem/index.html"><code>golem</code></a> que tr√°s uma s√©rie de configura√ß√µes e facilitam na hora de implementar o app em produ√ß√£o. O app possui um script <a href="https://github.com/gomesfellipe/acompanhacoes/blob/master/Dockerfile">Dockerfile</a> que √© gerado automaticamente utilizando a fun√ß√£o <code>golem::add_dockerfile()</code>.</p>
<p>Os dados s√£o obtidos utilizando a fun√ß√£o <code>quantmod::getQuote(&quot;&lt;stock&gt;&quot;)</code> para obter dados em tempo real (com defasagem de 15 minutos) e utilizando a fun√ß√£o <code>quantmod::(&quot;&lt;stock&gt;&quot;, get = &quot;stock.prices&quot;, from = first_day_year)</code> intradi√°rios fornecidos pela api do <a href="https://finance.yahoo.com/">Yahoo Finance</a> das cota√ß√µes do dia anterior.</p>
<h2 id="instala√ß√£o">Instala√ß√£o</h2>
<p>Para instalar a vers√£o de desenvolvimento do aplicativo execute o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;gomesfellipe/acompanhacoes&#34;</span>, INSTALL_opts <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;--no-lock&#39;</span>)
</span></span></code></pre></div><p>Ou fa√ßa o download da pasta do reposit√≥rio e execute:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install</span>(<span style="color:#e6db74">&#34;/path_to/acompanhacoes&#34;</span>)
</span></span></code></pre></div><h2 id="uso">Uso</h2>
<p>Ap√≥s instalar o pacote, execute os comandos para executar o dashboard no R:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(acompanhacoes)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">run_app</span>()
</span></span></code></pre></div><p>Veja como √© a tela inicial do dashboard:</p>
<p><img src="/apps/acompanhacoes_files/tela_inicial.png" alt=""></p>
<p>Para acessar o dashboard no meu servidor consulte: <a href="https://gomes555.shinyapps.io/acompanhacoes/">https://gomes555.shinyapps.io/acompanhacoes/</a></p>
<p>Assim que o dashboard for aberto, ser√£o exibidos resultados para um portf√≥lio <strong>arbitr√°rio</strong> fornecido como exemplo, exibindo <strong>tabelas financeiras</strong> com as seguitnes informa√ß√µes:</p>
<table>
<thead>
<tr>
<th style="text-align:right">Campo</th>
<th style="text-align:left">Subcampo</th>
<th style="text-align:left">Descri√ß√£o</th>
<th style="text-align:left">Medotologia</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">Montagem</td>
<td style="text-align:left">Cota√ß√£o inicio</td>
<td style="text-align:left">Valor no momento da compra</td>
<td style="text-align:left"><em>input</em></td>
</tr>
<tr>
<td style="text-align:right">Montagem</td>
<td style="text-align:left">Quantidade</td>
<td style="text-align:left">Quantidade de lotes comprados</td>
<td style="text-align:left"><em>input</em></td>
</tr>
<tr>
<td style="text-align:right">Montagem</td>
<td style="text-align:left">Volume Inicio</td>
<td style="text-align:left">Volume total da compra</td>
<td style="text-align:left"><code>cot_ini * qtd</code></td>
</tr>
<tr>
<td style="text-align:right">Desmontagem</td>
<td style="text-align:left">Cotacao Atual</td>
<td style="text-align:left">Valor do ativo no momento atual</td>
<td style="text-align:left"><em>real-time</em></td>
</tr>
<tr>
<td style="text-align:right">Desmontagem</td>
<td style="text-align:left">Volume Atual</td>
<td style="text-align:left">Volume total atual</td>
<td style="text-align:left"><code>cot_atual * qtd</code></td>
</tr>
<tr>
<td style="text-align:right">Resultado</td>
<td style="text-align:left">Ganho/Perda</td>
<td style="text-align:left">Valor de ganho/perda caso venda hoje</td>
<td style="text-align:left"><code>vol_atual - vol_ini</code></td>
</tr>
<tr>
<td style="text-align:right">Resultado</td>
<td style="text-align:left">Resultado Bruno</td>
<td style="text-align:left">Porcentagem de lucro</td>
<td style="text-align:left"><code>ganho_perda / vol_ini * 100</code></td>
</tr>
</tbody>
</table>
<p>A pr√≥xima se√ß√£o trar√° as informa√ß√µes necess√°rias para se realizar a carga no Dashboad.</p>
<h2 id="input">Input</h2>
<p>O dashboard tem 3 abordagens quanto ao input dos dados:</p>
<ol>
<li><strong>Sem input</strong>: O dashboard vai carregar a carteira exemplo que utilizei <a href="https://gomesfellipe.github.io/post/2020-03-25-investment-alert/investment-alert/">neste post</a> do meu blog;</li>
<li><strong>Input manual</strong>: O dashboard vai exibir as estat√≠sticas baseadas no input do usu√°rio;</li>
<li><strong>Usu√°rio vip</strong>: O dashboard vai exibir a carteira &ldquo;reservada&rdquo;, pr√©-definida pelo desenvolvedor, ap√≥s fornecer sua chave de acesso.</li>
</ol>
<p>Sempre que alguma dessas tr√™s a√ß√µes forem executadas, os dados das cota√ß√µes informadas no input ser√£o coletados utilizando fun√ß√µes do pacote <a href="https://cran.r-project.org/web/packages/quantmod/"><code>quantmod</code></a>, que fornecem as cota√ß√µes via api do <a href="https://finance.yahoo.com/">Yahoo Finance</a>.</p>
<p>As se√ß√µes a seguir ajudar√£o a entender como utiliza-los.</p>
<h3 id="1-sem-input">1. Sem input</h3>
<p>O Dashboard carrega o conjunto de dados <code>acompanhacoes::input_exemplo</code> no momento que √© inicializado com a finalidade de servir como exemplo e apresenta√ß√£o da ferramenta. Veja qual o formato do arquivo:</p>
<pre tabindex="0"><code>&gt; acompanhacoes::input_exemplo
# A tibble: 3 x 3
  symbol   cot_ini     qtd
  &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;
1 TUPY3.SA    24.4 200
2 ELET3.SA    19.7 150
3 BTC-USD  31747.    0.032
</code></pre><p>Obs.: Carteira elaborada de forma <strong>arbitr√°ria</strong> para servir como exemplo</p>
<h3 id="2-input-manual">2. Input manual</h3>
<p>O arquivo fornecido como input para o Dashboard precisa conter a palavra &ldquo;portfolio&rdquo; (como por exemplo: <code>input_portfolio.txt</code>) e estar no seguinte formato:</p>
<pre tabindex="0"><code>symbol, cot_ini, qtd
TUPY3.SA, 24.4, 200
ELET3.SA, 19.7, 150
PTBL3.SA, 5.80, 100
MGLU3.SA, 35.33, 100
TOTS3.SA, 19.28, 200
BTC-USD, 28000, 0.01
BTC-USD, 31747, 0.032
BTC-USD, 49499.37, 0.0101
</code></pre><p>Ap√≥s definir sua cateira com os valores pagos no momento da compra e informar a quantidade comprada clique na lupa üîé  para buscar o arquivo ou arraste para o campo indicado:</p>
<p><img src="/apps/acompanhacoes_files/input_manual.gif" alt=""></p>
<p>Sendo assim, os resultados ser√£o exibidos em tempo real de forma autom√°tica.</p>
<p>Obs.: O exemplo apresentado no gif √© do arquivo <a href="https://github.com/gomesfellipe/acompanhacoes/blob/master/portfolio_vip.txt"><code>portfolio_vip.txt</code></a>, que √© carteira elaborada de forma <strong>arbitr√°ria</strong> para servir como exemplo.</p>
<h3 id="3-usu√°rio-vip---opcional">3. Usu√°rio vip! ‚≠ê  (Opcional)</h3>
<p>Para habilitar o vip talvez pare√ßa um pouco mais complicado por√©m pode ser um recurso muito √∫til para ajudar a acompanhar o investimentos pois possui a vantagem de permitir o acesso ao portfolio de forma protegida (eu mesmo tenho usado no meu dia a dia e aceito sugest√µes de melhora nesse mecanismo para facilitar a experi√™ncia do usu√°rio). Trata-se de configurar dois arquivos no diret√≥rio raiz de modo que o dashboard s√≥ ir√° carregar caso seja informada a senha de acesso.</p>
<p>Os dois arquivos de configura√ß√£o s√£o:</p>
<ul>
<li><code>portifolio_vip.txt</code>:</li>
</ul>
<p>Um arquivo na extens√£o <code>txt</code> com informa√ß√µes da cota√ß√£o no momento da compra e a quantidade adquirida. Existe um <a href="https://github.com/gomesfellipe/acompanhacoes/blob/master/portfolio_vip.txt">arquivo de exemplo</a> no reposit√≥rio de forma que o desenvolvedor possa adaptar para sua carteira.</p>
<p><strong>Dica</strong>: Sugiro que o inclua o <code>.txt</code> no seu <code>.gitignore</code> caso deseje manter a privacidade da sua carteira na hora de fazer o versionamento);</p>
<ul>
<li><code>vip.rds</code>:</li>
</ul>
<p>Um objeto R do tipo vetor que contenha um ou mais elementos que ser√£o utilizados como chave de acesso do arquivo <code>portifolio_vip.txt</code>.</p>
<p>Para criar o vetor defina a ra√≠z do diret√≥rio como diret√≥rio de trabalho e execute os comandos:</p>
<pre tabindex="0"><code>vip &lt;- c(&#34;senha&#34;)
saveRDS(vip, vip.rds)
</code></pre><p>Com estes dois arquivos definidos na pasta raiz do diret√≥rio do dashboard, execute os comandos para executar o Dashboard:</p>
<pre tabindex="0"><code>library(acompanhacoes)
run_app()
</code></pre><p><img src="/apps/acompanhacoes_files/input_vip.gif" alt=""></p>
<p>Parab√©ns! Se chegou t√© aqui agora voc√™ possui um Dashboard com um panorama geral de informa√ß√µes (quase) em tempo real para auxiliar na tomada de decis√£o no momento da desmontagem de algum ativo!</p>
<p><strong>Dica</strong>: Caso queria publicar esse dashboard com 1 linha de c√≥digo basta criar um usu√°rio no site <a href="https://www.shinyapps.io/">https://www.shinyapps.io/</a>, seguir a instru√ß√µes e subir a aplica√ß√£o utilizando <code>rsconnect::deployApp()</code>.</p>
<h2 id="estat√≠sticas-da-carteira">Estat√≠sticas da carteira</h2>
<p>Esta se√ß√£o ainda esta em desenvolvimento e totalmente aberta √† sugest√µes. Veja como √© a tela de Estat√≠sticas da carteira:</p>
<p><img src="/apps/acompanhacoes_files/analytics.gif" alt=""></p>
<p>(Em desenvolvimento)</p>
<h2 id="disclaimer">Disclaimer</h2>
<p>Os arquivos aqui apresentados n√£o representam meu portf√≥lio e tamb√©m n√£o estou sugerindo estas op√ß√µes de carteiras. Para saber a origem deste input consulte o <a href="https://gomesfellipe.github.io/post/2020-03-25-investment-alert/investment-alert/">post do meu blog</a> onde utilizo estes ativos como exemplo na constru√ß√£o de uma portf√≥lio fict√≠cio. A id√©ia √© que o usu√°rio entre com os dados do seu portf√≥lio para cada compra efetuada.</p>
<p>A responsabilidade de manter a privacidade da carteira √© totalmente do usu√°rio, mantenha o arquivo <code>portifolio_vip.txt</code> salvo em seu computador local e caso use controle de vers√µes inclua este arquivo no seu arquivo <code>.gitignore</code>.</p>
<p>Nenhum arquivo inputado ser√° persistido.</p>
<h2 id="pr√≥ximos-passos">Pr√≥ximos passos</h2>
<p>Para saber quais ser√£o os pr√≥ximos passos e saber como voc√™ pode contribuir com o desenvolvimento deste pacote consulte a aba de <a href="https://github.com/gomesfellipe/acompanhacoes/projects">Projects</a> do github.</p>
<p>O pacote ainda esta em fase de desenvolvimento e quando estiver completo ser√° submetido ao CRAN!</p>
<h2 id="licen√ßa">Licen√ßa</h2>
<p>Sinta-se a vontade para utilizar, reproduzir e modificar o c√≥digo respeitando os <a href="https://github.com/gomesfellipe/acompanhacoes/blob/master/LICENSE.md">termos da licen√ßa</a>.</p>

        <p><strong>Leia o post completo em:</strong> <a href="https://gomesfellipe.github.io/apps/acompanhacoes/">AcompanhA√ß√µes</a></p>
        <p><em>Este post foi originalmente publicado em <a href="https://gomesfellipe.github.io/">Fellipe Gomes - Data Science Blog</a></em></p>
      ]]></content:encoded>
      <category>apps</category>
      <category domain="tag">dashboard</category>
      <category domain="tag">acoes</category>
      <category domain="tag">financas</category>
    </item>
  </channel>
</rss>