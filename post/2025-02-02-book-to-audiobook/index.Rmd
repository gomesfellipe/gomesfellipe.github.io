---
title: 'Criando Audiobooks com Intelig√™ncia Artificial: book-to-audiobook'
author: Fellipe Gomes
date: '2025-02-02'
slug: [book-to-audiobook]
categories:
  - Python
  - Intelig√™ncia Artificial
  - text-to-speech
  - Tradu√ß√£o Autom√°tica
  - Automa√ß√£o
  - Web scraping
  - √Åudio
tags:
  - audiobook
  - audiobooks
  - audio
  - livro
  - book
  - book-to-audiobook
  - intelig√™ncia artificial
  - text-to-speech 
  - conversao de texto em √°udio 
  - automa√ß√£o 
  - deep learning 
  - tradu√ß√£o autom√°tica
  - Python 
  - edge-tts 
  - audiobook gr√°tis
  - tecnologia 
  - acessibilidade 
  - IA 
  - processamento de linguagem natural
  - aprendizado de m√°quina
  - web scraping
  - gomesfellipe
description: 'Transforme qualquer texto em audiobook de forma gratuita e automatizada com IA para convers√£o, tradu√ß√£o e s√≠ntese de voz.'
featured: 'img1.png'
featuredalt: 'Cria√ß√£o de audiobooks gratuitos'
featuredpath: 'date'
linktitle: ''
type: "post" 
output: 
  blogdown::html_page:
    toc: true
    toc_depth: 2
image_preview: 'img1.png' 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE)
```

# Por que Audiobooks?

Pela sua forma conveniente de consumir conhecimento e entretenimento, os audiobooks est√£o se tornando cada vez mais populares. Conforme a √∫ltima [pesquisa](https://g1.globo.com/pop-arte/noticia/2024/01/08/como-audiolivros-devem-crescer-ainda-mais-em-2024-e-podem-virar-prioridade-nas-editoras.ghtml) da C√¢mara Brasileira do Livro, os livros digitais cresceram 15% de 2021 para 2022. Dentre os 13 mil t√≠tulos digitais publicados em 2022, 12% eram audiolivros. Embora o livro f√≠sico sempre v√° existir, nem sempre temos o tempo necess√°rio para ler todas as obras de nossa lista.  

Adquiri o h√°bito de ouvir audiobooks h√° quase 10 anos, especialmente enquanto realizo tarefas que n√£o exigem aten√ß√£o plena, como dirigir, pedalar, malhar ou at√© mesmo em tarefas dom√©sticas. Hoje em dia existem muitas op√ß√µes de plataformas para consumir conte√∫do em √°udio no mercado, incluindo op√ß√µes gratuitas dispon√≠veis na internet. No entanto, com o passar do tempo, j√° me peguei diversas vezes escolhendo um t√≠tulo aleat√≥rio, pois n√£o encontrava os livros que realmente queria ouvir. Entendo que para criar um audiobook de qualidade pode ser um processo caro e demorado, mas, felizmente, os avan√ßos da intelig√™ncia artificial (IA) trouxeram novas possibilidades e foi ent√£o que comecei a pesquisar formas acess√≠veis e eficientes de converter livros do meu interesse em audiobooks utilizando IA.  

Neste post, compartilharei o m√©todo mais eficaz que encontrei ap√≥s extensas pesquisas sobre como transformar qualquer texto em um √°udio com alta qualidade, utilizando ferramentas de IA gratuitas. Abordaremos um mini-projeto desde a prepara√ß√£o do arquivo de texto at√© a gera√ß√£o do √°udio final.

# O Que S√£o Audiobooks Criados com IA?

Audiobooks gerados com IA utilizam ferramentas de *text-to-speech* (TTS) para converter texto em √°udio. Diferentemente das grava√ß√µes tradicionais, que dependem de narradores humanos, os audiobooks com IA s√£o criados digitalmente por meio de modelos avan√ßados que geram vozes cada vez mais naturais. Essa abordagem apresenta algumas vantagens e desvantagens em rela√ß√£o √†s grava√ß√µes convencionais:

<div class="w3-panel w3-pale-green w3-border">
&nbsp; **‚úÖ Vantagens:** 

- **Economia de tempo**: O processo √© automatizado e muito mais r√°pido
- **Acessibilidade**: Permite adaptar conte√∫dos para diferentes idiomas e p√∫blicos, como pessoas com defici√™ncia visual tenham acesso a mais conte√∫do
- **Personaliza√ß√£o**: Possibilidade de escolher vozes que melhor atendam ao estilo ou objetivo da leitura

</div>

<div class="w3-panel w3-pale-red w3-border">
&nbsp; **‚ùå Desvantagens:** 

- **Falta de emo√ß√£o e naturalidade**: Podem soar rob√≥ticas ou sem a entona√ß√£o expressiva de um narrador humano
- **Dificuldade com palavras complexas e entona√ß√£o**: Pronuncias de nomes pr√≥prios, termos t√©cnicos ou palavras estrangeiras de forma inadequada
- **Limita√ß√µes na adapta√ß√£o do texto**: Narrativas que exigem pausas dram√°ticas ou interpreta√ß√µes espec√≠ficas, a IA pode n√£o captar nuances essenciais para a experi√™ncia do ouvinte

</div>

Embora os audiobooks gerados por IA sejam uma solu√ß√£o pr√°tica e acess√≠vel, eles ainda n√£o substituem completamente a qualidade e a emo√ß√£o transmitidas por um narrador profissional. A escolha entre um audiobook tradicional ou criado por IA depender√° da sua necessidade e da disponibilidade.

# Como criar seu audiobook com IA

O primeiro passo para criar um audiobook √© organizar o conte√∫do que ser√° convertido em √°udio, garantindo que esteja bem formatado. Os formatos de arquivo mais comuns incluem:

  - **PDF**: Formato mais comum de livros e tamb√©m o que pode ser o mais trabalhoso por conter elementos como rodap√©s, numera√ß√£o de p√°ginas e t√≠tulos que precisam ser tratados de maneira diferente para cada livro.
  - **EPUB**: Formato mais comum para eBooks que cont√©m formata√ß√£o rica e relativamente padronizada, o que facilita na reciclagem de c√≥digos para importa√ß√£o e tratamento
  - **HTML**: Pode ser que exista uma vers√£o do livro gratuita na internet ent√£o com t√©cnicas de webscrapping podemos capturar o conte√∫do do livro e transforma-lo em um audio-book

<div class="w3-panel w3-pale-yellow w3-border">
&nbsp; **üìå Dica importante:** Antes de gerar o √°udio, revise o conte√∫do extra√≠do para garantir que t√≠tulos, subt√≠tulos, par√°grafos e listas estejam formatados corretamente, para ter uma experi√™ncia de escuta mais fluida.

</div>

## Preparar o arquivo de texto

Cada formato de arquivo exige um pr√©-processamento espec√≠fico. Para este exemplo, utilizarei o livro [*Fairness and Machine Learning: Limitations and Opportunities*](https://fairmlbook.org/), pois, al√©m de estar dispon√≠vel gratuitamente na internet sob a licen√ßa [Creative Commons BY-NC-ND 4.0](https://creativecommons.org/licenses/by-nc-nd/4.0/), √© uma excelente leitura sobre as implica√ß√µes sociais e √©ticas das decis√µes automatizadas‚Äîum conhecimento essencial para profissionais de IA e dados. (Inclusive, fiz um [post no LinkedIn](https://www.linkedin.com/feed/update/urn:li:activity:7240017653648572416/) sobre esse livro no √∫ltimo ano.)

Vamos carregar o c√≥digo que desenvolvi para realizar o scraping do conte√∫do:

```{python}
%%capture
!wget -O scraper_fairmlbook.py "https://gist.githubusercontent.com/gomesfellipe/91a76531858e51fd69e72fb862499a67/raw/f1ae0374268b3190b41480e937c966cab793aa51/scraper_fairmlbook.py"
import scraper_fairmlbook
```

Agora, utilizamos a fun√ß√£o para extrair o conte√∫do:

```{python}
book = scraper_fairmlbook.extrair_conteudo_livro('https://fairmlbook.org/')
book
```

```
{'introduction': 'Introduction\n\nOur success, happiness, and wellbeing are neve...
 'legitimacy': "When is automated decision making legitimate?\n\nThese three sce...
 'classification': 'Classification\n\nThe goal of classification is to leverage ...
 'relative': "Relative notions of fairness\n\nIn Chapter 3, we considered a rang...
 'causal': 'Causality\n\nOur starting point is the difference between an observa...
 'legal': 'Understanding United States anti-discrimination law\n\nIn this chapte...
 'testing': 'Testing discrimination in practice\n\nIn previous chapters, we have...
 'broader-view': 'A broader view of discrimination\n\nMachine learning systems d...
 'datasets': 'Datasets\n\nIt‚Äôs become commonplace to point out that machine lear...

```

Utilizarei apenas as 5 primeiras linhas do livro como exemplo mas note que nesse ponto qualquer objeto do tipo `string`  j√° possibilita a execu√ß√£o do restante do mini-projeto.

```{python}
# Obter as primeiras 5 linhas do texto de introdu√ß√£o
text = "\n".join(book['introduction'].split('\n')[0:5]) + "\n\n..."
print(text)
```

```
Introduction

Our success, happiness, and wellbeing are never fully of our own making. Others‚Äô decisions can profoundly affect the course of our lives: whether to admit us to a particular school, offer us a job, or grant us a mortgage. Arbitrary, inconsistent, or faulty decision-making thus raises serious concerns because it risks limiting our ability to achieve the goals that we have set for ourselves and access the opportunities for which we are qualified.

So how do we ensure that these decisions are made the right way and for the right reasons? While there‚Äôs much to value in fixed rules, applied consistently, good decisions take available evidence into account. We expect admissions, employment, and lending decisions to rest on factors that are relevant to the outcome of interest.

...
```

## Traduzir conte√∫do para PT-BR (opcional)

Este livro est√° em ingl√™s mas caso o texto original esteja em qualquer outro idioma que n√£o dominamos, a tradu√ß√£o para portugu√™s pode ser uma forma de ampliar seu acesso. Para isso, utilizaremos a ferramenta de tradu√ß√£o baseada em IA [deep-translator](https://github.com/nidhaloff/deep-translator) que √© uma ferramenta flex√≠vel, gratuita e ilimitada para traduzir entre diferentes idiomas usando v√°rios tradutores. Obtive bons resultados com a API do Google Tradutor, bastando dividir o texto em blocos menores para atender ao limite de caracteres da API. 

```{python}
from deep_translator import GoogleTranslator

tradutor = GoogleTranslator(source='auto', target='portuguese')
texto = tradutor.translate(text)
print(texto)
```

```
Introdu√ß√£o

Nosso sucesso, felicidade e bem-estar nunca s√£o totalmente de nossa responsabilidade. As decis√µes dos outros podem afetar profundamente o curso de nossas vidas: seja para nos admitir em uma escola espec√≠fica, nos oferecer um emprego ou nos conceder uma hipoteca. A tomada de decis√µes arbitr√°ria, inconsistente ou falha, portanto, levanta s√©rias preocupa√ß√µes porque corre o risco de limitar nossa capacidade de atingir as metas que definimos para n√≥s mesmos e acessar as oportunidades para as quais estamos qualificados.

Ent√£o, como garantimos que essas decis√µes sejam tomadas da maneira certa e pelos motivos certos? Embora haja muito a valorizar em regras fixas, aplicadas consistentemente, boas decis√µes levam em considera√ß√£o as evid√™ncias dispon√≠veis. Esperamos que as decis√µes de admiss√£o, emprego e empr√©stimo se baseiem em fatores que sejam relevantes para o resultado do interesse.

...
```

## Convertendo o Texto em √Åudio com IA

Com o texto pronto, √© hora de usar ferramentas de **text-to-speech** (TTS) para gerar o √°udio. Existem diversas op√ß√µes dispon√≠veis, como:

- [Hugging Face](https://huggingface.co/models?pipeline_tag=text-to-speech&sort=trending) que √© uma plataforma colaborativa que democratiza o acesso √† recursos de IA
- [gTTS](https://github.com/pndurette/gTTS) (Google Text-to-Speech)
- [tts-OpenAI](https://ttsopenai.com/) que cobra [$15 para cada 1 Milh√£o](https://openai.com/api/pricing/) de tokens (**opni√£o**: eu esperava mais qualidade pelo pre√ßo que eles cobram)
- [edge-tts](https://github.com/rany2/edge-tts) que permite usar a fun√ß√£o de text-to-speech do Microsoft Edge utilizando c√≥digo Python

Para este mini-projeto utilizaremos o `edge-tts`, que √© conhecida por sua alta qualidade e vozes naturais. IMHO, dos que eu testei, essa biblioteca foi a que apresentou os melhores resultados. A voz escolhida foi [`pt-BR-AntonioNeural`](https://github.com/playht/text-to-speech-api/blob/master/Voices.md), que proporciona uma leitura bem fluida e n√£o √© t√£o rob√≥tica. Tenho certeza que voc√™ j√° ouviu a [voz desse modelo](https://media.play.ht/full_-MWbnKJy-MVB1Vcn6Ijh.mp3) em algum lugar.

```{python}
import edge_tts

communicate = edge_tts.Communicate(texto, "pt-BR-AntonioNeural")
communicate.save_sync("audiobook.mp3")
```

Ap√≥s executar o modelo o arquivo de √°udio `audiobook.mp3` estar√° pronto e dispon√≠vel no seu diret√≥rio de trabalho!

<audio controls>
<source src="audiobook.mp3" type="audio/mpeg"> 
Your browser does not support this audio format.
</audio> 

<!-- <style> -->
<!-- audio { width: 10%; display: block;} -->
<!-- </style> -->

## FAQ

Para garantir uma boa experi√™ncia, seguem algumas dicas para melhorar a qualidade final do audiobook:

- Fa√ßa a revis√£o do √°udio para identificar poss√≠veis erros das etapas anteriores
- P√≥s-processamentos:
  - Eliminar ru√≠dos
  - Ajustar volumes
  - Ajustar velocidade
  - Adicionar m√∫sica de fundo (Escolha m√∫sicas isentas de direitos autorais para enriquecer a narrativa)

Caso esteja recebendo o erro `ConnectionTimeoutError`, existem algumas formar de tentar contornar como:

- Reinstalar o pacote para a vers√£o mais recente e aguardar alguns minutos para tentar novamente
- Dividir o texto em trechos com menos caracteres para gerar os segmentos do √°udio e combin√°-los depois
- Aguardar algumas horas e tentar novamente

# Quest√µes de √âtica e Legalidade

Antes de converter qualquer livro em √°udio, garante que voc√™ tem as devidas permiss√µes para utiliz√°-lo dessa forma. Muitos livros est√£o protegidos por direitos autorais e sua reprodu√ß√£o ou adapta√ß√£o sem autoriza√ß√£o pode infringir leis de propriedade intelectual. Para evitar problemas legais:

- **Prefira conte√∫dos de dom√≠nio p√∫blico**: Livros cujos direitos autorais j√° expiraram podem ser utilizados livremente. Projetos como o [Dom√≠nio P√∫blico](https://www.dominiopublico.gov.br/) e o [Project Gutenberg](https://www.gutenberg.org/) oferecem acervos gratuitos.
- **Consulte os termos de uso**: Alguns eBooks permitem a convers√£o para audiobooks apenas para fins pessoais, enquanto outros pro√≠bem essa pr√°tica. Verifique sempre as regras do autor ou da editora.
- **Obtenha autoriza√ß√£o do detentor dos direitos**: Caso um livro esteja protegido por direitos autorais, entre em contato com o autor ou a editora para solicitar permiss√£o antes de convert√™-lo.

Ainda n√£o que a IA pode substituir 100% os narradores humanos profissionais, pois apesar dos avan√ßos, vozes sint√©ticas ainda carecem de emo√ß√£o e expressividade. Para determinados g√™neros liter√°rios, como romances ou poesias, a narra√ß√£o humana pode proporcionar uma experi√™ncia mais envolvente.

# Conclus√£o

Criar audiobooks com intelig√™ncia artificial √© uma maneira revolucion√°ria de otimizar o tempo e ampliar o acesso ao conhecimento e hist√≥rias. A combina√ß√£o de ferramentas gratuitas, como edge-tts e Google Translate API, permitem que qualquer um transforme livros e artigos em √°udio.

No entanto, precisamos equilibrar os benef√≠cios da inova√ß√£o com a responsabilidade √©tica e legal. Respeitar os direitos autorais, considerar o impacto no mercado de narradores profissionais e garantir que o conte√∫do gerado tenha qualidade e integridade para o uso consciente da tecnologia.

Se utilizada de maneira respons√°vel, a IA pode ser uma poderosa aliada na acessibilidade do conhecimento, proporcionando novas formas de aprendizado e entretenimento para um p√∫blico cada vez maior.


