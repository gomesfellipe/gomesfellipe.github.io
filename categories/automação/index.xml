&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Automação on Fellipe Gomes - Data Science Blog</title>
    <link>https://gomesfellipe.github.io/categories/automa%C3%A7%C3%A3o/</link>
    <description>Últimos posts sobre Data Science, Machine Learning e R</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <managingEditor>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</managingEditor>
    <webMaster>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</webMaster>
    <lastBuildDate>Mon, 04 Dec 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://gomesfellipe.github.io/categories/automa%C3%A7%C3%A3o/" rel="self" type="application/rss+xml" />
    <item>
      <title>Gerenciando arquivos do Dropbox com R</title>
      <link>https://gomesfellipe.github.io/post/2017-12-04-gerenciando-arquivos-do-dropbox-com-r/</link>
      <pubDate>Mon, 04 Dec 2017 00:00:00 +0000</pubDate>
      <author>gomes.fellipe1@gmail.com (Fellipe Carvalho Gomes)</author>
      <guid>https://gomesfellipe.github.io/post/2017-12-04-gerenciando-arquivos-do-dropbox-com-r/</guid>
      <description>O Dropbox Armazenar arquivos na nuvem é uma prática muito comum nos dias de hoje. O Dropbox é um dos muitos exemplos de repositórios baseados no conceito de “computação em nuvem”, que oferece o serviço para compartilhar e armazenar arquivos.
Não é novidade que a “computação em nuvem” tem impulsionado muitos projetos, em especial projetos de Big Data ocorrendo em diversos setores e existe um volume absurdo de dados sendo gerados.</description>
      <content:encoded>&lt;![CDATA[
        


<div id="o-dropbox" class="section level1">
<h1>O Dropbox</h1>
<!-- ![](/img/2017-12-04-gerenciando-arquivos-do-dropbox-com-r/imagem1.png) -->
<p>Armazenar arquivos na nuvem é uma prática muito comum nos dias de hoje. O Dropbox é um dos muitos exemplos de repositórios baseados no conceito de “computação em nuvem”, que oferece o serviço para compartilhar e armazenar arquivos.</p>
<p>Não é novidade que a “computação em nuvem” tem impulsionado muitos projetos, em especial projetos de Big Data ocorrendo em diversos setores e existe um volume absurdo de dados sendo gerados.</p>
<p>Então essa habilidade de lidar com arquivos em nuvem parece bem razoável para um cientista de dados. Mesmo que nossos repositórios não sejam repositórios que se qualifiquem como “Big Data” é interessante como algumas práticas podem ser úteis de uma maneira geral.</p>
<p>Já existem diversas opções de para extrair grandes volumes de dados que estão disponíveis gratuitamente, como o projeto da <a href="https://www.elastic.co/">elastic</a> com a <a href="https://www.elastic.co/webinars/introduction-elk-stack">stack ELK</a>.</p>
<p>Mas quero abordar aqui sobre o pacote <a href="https://cran.r-project.org/web/packages/rdrop2/rdrop2.pdf">rdrop2</a>, ele apresenta funções muito úteis para gerenciar os arquivos armazenados na nuvem diretamente de dentro do RStudio.</p>
</div>
<div id="o-pacote-rdrop2" class="section level1">
<h1>O pacote <code>rdrop2</code></h1>
<p>Procurei pela internet alguma página que fornecesse as instruções do pacote em português mas não encontrei. Então trago aqui algumas das instruções e funções úteis que estão disponíveis no <a href="https://github.com/karthik/rdrop2">manual do pacote</a>.</p>
<div id="configurando-o-serviço" class="section level2">
<h2>Configurando o serviço:</h2>
<p>Primeiramente é necessário instalar o pacote cado ainda não o tenha feito</p>
<pre class="r"><code>install.packages(&quot;rdrop2&quot;)
devtools::install_github(&quot;karthik/rdrop2&quot;) # ou a versão de desenvolvimento</code></pre>
<p>Feito isso já podemos carregar o pacote:</p>
<pre class="r"><code>library(rdrop2)</code></pre>
<p>Para que o dropbox libere o uso dos arquivos é necessária a autenticação, que pode ser feita através deste comando:</p>
<pre class="r"><code>drop_auth()</code></pre>
<p>Isso irá iniciar o seu navegador e solicitar o acesso à sua conta Dropbox, ai é só fazer o login (caso ainda não esteja logado) e em seguida podemos retornar ao R.</p>
<p>Podemos salvar o token para o do uso local ou remoto:</p>
<pre class="r"><code>token &lt;- drop_auth()
saveRDS(token, file = &quot;token.rds&quot;)</code></pre>
</div>
<div id="conferindo-as-informações-da-conta-dropbox" class="section level2">
<h2>Conferindo as informações da conta Dropbox</h2>
<p>Podemos ver quais arquivos estão presentes no nosso dropbox através dos comandos:</p>
<pre class="r"><code>library(dplyr)       # Para facilitar a manipulação dos dados
drop_acc() %&gt;%       # Selecionando o diretório
  data.frame() %&gt;%   # Convertendo para data.frame
  names()            # Solicitando informações da conta Dropbox</code></pre>
</div>
<div id="obtendo-listagem-de-diretório-dropbox" class="section level2">
<h2>Obtendo listagem de diretório Dropbox</h2>
<p>Para acessar as pastas ou arquivos em seu dropbox, podemos utilizar a função <code>drop_dir()</code>, veja:</p>
<pre class="r"><code>#Listagem do diretório Dropbox
diretorio=drop_dir()

#Para ver os arquivos contidos no diretorio:
diretorio$name

#ou especificar um caminho
drop_dir(&#39;RPubs/dplyr&#39;)$name

#Listagem de diretório de filtro por tipo de objeto (arquivo / pasta)
drop_dir() %&gt;% 
  filter(.tag == &quot;folder&quot;)</code></pre>
</div>
<div id="criando-uma-pasta-no-dropbox" class="section level2">
<h2>Criando uma pasta no Dropbox</h2>
<p>Podemos criar pastas no Dropbox de maneira muito conveniente sem ter de de sair do RStudio de forma tão simples como utilizar um comando <code>drop_creat()</code>, veja:</p>
<pre class="r"><code>#Nome da pasta que será criada será &quot;drop_test&quot; veja:
drop_create(&#39;drop_test&#39;)

#Para acessar a posição de onde a pasta foi salva:
which(drop_dir()$name==&#39;drop_test&#39;)

#Acessando a pasta pela posição:
drop_dir()$name[86]

#Também podemos fornecer o caminho completo onde ele precisa ser criado:
drop_create(&#39;drop_test/drop_test&#39;)</code></pre>
</div>
<div id="carregando-um-arquivo-no-dropbox" class="section level2">
<h2>Carregando um arquivo no Dropbox</h2>
<p>Da mesma maneira que criar pastas no Dropbox, para salvar basta utilizar o comando <code>drop_upload()</code>, veja:</p>
<pre class="r"><code>#escrevendo um arquivo csv:
write.csv(trees, &#39;trees.csv&#39;)

#carregando o arquivo para a pasta raiz:
drop_upload(&#39;trees.csv&#39;)

# ou carregar para uma pasta específica
drop_upload(&#39;trees.csv&#39;, path = &quot;drop_test/drop_test&quot;)</code></pre>
<p>Isso também pode ser fazer isso para qualquer outro tipo de arquivo e arquivos grandes são suportados independentemente da sua memória.</p>
</div>
<div id="baixando-um-arquivo" class="section level2">
<h2>Baixando um arquivo:</h2>
<p>Muito simples, veja:</p>
<pre class="r"><code>#Baixe um arquivo
drop_download(&#39;trees.csv&#39;)

# ou adicionar caminho se o arquivo não estiver na raiz
drop_download(&quot;drop_test/drop_test/trees.csv&quot;)

#Se desejar subescrever o arquivo ja existente:
drop_download(&quot;drop_test/drop_test/trees.csv&quot;, overwrite = T)</code></pre>
</div>
<div id="deletando-um-arquivo" class="section level2">
<h2>Deletando um arquivo</h2>
<p>Tão fácil quando apertar <code>DELETE</code>.</p>
<pre class="r"><code>#Delete um arquivo:
drop_delete(&#39;drop_test/drop_test/trees.csv&#39;)</code></pre>
</div>
<div id="movendo-um-arquivo" class="section level2">
<h2>Movendo um arquivo</h2>
<p>As vezes desejamos apenar mover um arquivo, continua sendo bastante simples:</p>
<pre class="r"><code>#Criando um novo diretório
drop_create(&quot;drop_test/new_folder&quot;)

#Mova um arquivo:
drop_move(&quot;drop_test/drop_test/trees.csv&quot;, &quot;drop_test/new_folder/trees.csv&quot;)</code></pre>
</div>
<div id="copiando-um-arquivo" class="section level2">
<h2>Copiando um arquivo</h2>
<pre class="r"><code>#Criando um novo repositorio novamente:
drop_create(&quot;drop_test/new_folder2&quot;)

#Copiando o arquivo para lá:
drop_copy(&quot;drop_test/new_folder/trees.csv&quot;, &quot;drop_test/new_folder2/trees.csv&quot;)</code></pre>
</div>
<div id="lendo-arquivos-csv-diretamente-do-dropbox" class="section level2">
<h2>Lendo arquivos csv diretamente do Dropbox</h2>
<p>Essa é extremamente útil para não ter que ficar baixando os arquivos toda hora</p>
<pre class="r"><code>#Escrevendo um arquivo csv
write.csv(cars, file = &quot;cars.csv&quot;)

#Enviando para o dropbox:
drop_upload(&quot;cars.csv&quot;,&quot;drop_test/new_folder/&quot;)</code></pre>
<p>Agora vamos ler isso de volta em uma sessão R com o comando <code>drop_read_csv()</code></p>
<pre class="r"><code># Baixando o arquivo:
new_cars &lt;- drop_read_csv(&quot;drop_test/new_folder/cars.csv&quot;)</code></pre>
<p>Observe que há um download silencioso acontecendo com seu diretório temporário.</p>
</div>
</div>

        <p><strong>Leia o post completo em:</strong> <a href="https://gomesfellipe.github.io/post/2017-12-04-gerenciando-arquivos-do-dropbox-com-r/">Gerenciando arquivos do Dropbox com R</a></p>
        <p><em>Este post foi originalmente publicado em <a href="https://gomesfellipe.github.io/">Fellipe Gomes - Data Science Blog</a></em></p>
      ]]></content:encoded>
      <category>Automação</category>
      <category>Prática</category>
      <category>R</category>
      <category domain="tag">gomesfellipe</category>
      <category domain="tag">Prática</category>
      <category domain="tag">R</category>
      <category domain="tag">rmarkdown</category>
      <category domain="tag">dropbox</category>
    </item>
  </channel>
</rss>